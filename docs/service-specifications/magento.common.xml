<?xml version="1.0" encoding="UTF-8"?>

<specification xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
               xmlns="https://magento.com/open-specification"
               xsi:schemaLocation="https://magento.com/open-specification ../specification.xsd">

  <module name="magento.common">

    <typedef name="by_locale[T]">
      <type>array[magento.common.by_locale_entry[T]]</type>
    </typedef>

    <struct name="by_locale_entry[T]">
      <summary>Holds value keyed by locale</summary>
      <extensible>false</extensible>
      <properties>
        <property name="locale">
          <summary>The locale value (such as 'en_US'), or '*' to match all locales</summary>
          <type>string</type>
          <required>true</required>
        </property>
        <property name="value">
          <summary>The value for that locale</summary>
          <type>T</type>
          <required>true</required>
        </property>
      </properties>
    </struct>

    <typedef name="by_channel[T]">
      <summary>Store values by channel</summary>
      <description>
        Used to hold a set of values applicable per channel.
	To find a match, the rule is to start from the top of the table
	and work the way down until the first match is found.
	A value of "*" in this array will match all channel names.
      </description>
      <type>array[magento.common.by_channel_entry[T]]</type>
    </typedef>

    <struct name="by_channel_entry[T]">
      <summary>Holds value keyed by channel</summary>
      <extensible>false</extensible>
      <properties>
        <property name="channel">
          <summary>The channel value (such as 'mobile'), or '*' to match all channels</summary>
          <type>string</type>
          <required>true</required>
        </property>
        <property name="value">
          <summary>The value for the specified channel</summary>
          <type>T</type>
          <required>true</required>
        </property>
      </properties>
    </struct>

    <typedef name="by_locale_and_channel[T]">
      <summary>Store values per locale and channel combination</summary>
      <description>
        Used to hold a set of values applicable per combination of locale
	and channel (e.g. for mobile in Spain use "es_ES"/"mobile").
	To find a match, the rule is to start from the top of the table
	and work the way down until the first match is found.
	A value of "*" in this array will match all locale and channel names.
	This avoids having to duplicate as much information.
      </description>
      <type>array[magento.common.by_locale_and_channel_entry[T]]</type>
    </typedef>

    <struct name="by_locale_and_channel_entry[T]">
      <summary>Holds value keyed by channel</summary>
      <extensible>false</extensible>
      <properties>
        <property name="locale">
          <summary>The locale value (such as 'en_US'), or '*' to match all locales</summary>
          <type>string</type>
          <required>true</required>
        </property>
        <property name="channel">
          <summary>The channel value (such as 'mobile'), or '*' to match all channels</summary>
          <type>string</type>
          <required>true</required>
        </property>
        <property name="value">
          <summary>The value for the specified channel</summary>
          <type>T</type>
          <required>true</required>
        </property>
      </properties>
    </struct>

  </module>
</specification>
